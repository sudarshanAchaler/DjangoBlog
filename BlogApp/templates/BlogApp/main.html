<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="{% static 'css/footer.css' %}" />
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
    <script>
      var user='{{request.user}}' ;
      var currentPage="{{page}}";
      function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    const csrftoken = getCookie('csrftoken');
    </script>

    {% block style %} {% endblock style %}

    <title>{% block title %} {% endblock title %}</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container-fluid">
          <a class="navbar-brand" href="{% url 'home' %}">Code The Web</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="{% url 'home' %}">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'posts' %}">Posts</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'about' %}">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{% url 'writeforus' %}">Write for Us</a>
              </li>
              
              
              <li class="nav-item ms-lg-3">
                <a type="button" class="btn btn-success " id="Login" href="{% url 'login-page' %}" >
                  Login
                </a>
              </li>
              <li class="nav-item ms-lg-3">
                
                <a type="button" class="btn btn-danger " id="Logout" href="{% url 'logout' %}" >
                  Logout 
                </a>
              </li>
              
              
              
                
              
                
              
              
              
            </ul>
            <div class="d-flex pe-md-5" style="color: white;" id="helloMessage">
              Hello {{request.user}}!
            </div>
            <form class="d-flex" method="POST" action="/searchResults/">
              {% csrf_token %}
              <input class="form-control me-2" type="search"  name="keyword" required id="searchInput">
              <button class="btn btn-success" type="submit" ><i class="fas fa-search"></i></button>
            </form>

          </div>
        </div>
      </nav>

    <!-- alert message -->
    {% for message in messages  %}            

    <div class="alert1 alert alert-{{ message.tags }} alert-dismissible fade show mx-1 my-1 " role="alert" >
        <strong >Message :</strong> {{ message }}
        <button type="button" class="btn-close " data-bs-dismiss="alert" aria-label="Close"></button>
      </div>

  {% endfor %}  
  <!-- alert message -->

    {% block content %} {% endblock content %}

      <!-- footer -->      
      
      <div class="footer-container-fluid pb-0 mb-0 justify-content-center text-light " id="footer" >
        <footer>
            <div class="row my-5 justify-content-center py-5"
                < div class="col-11">
                    <div class="row ">
                        <div class="col-xl-8 col-md-4 col-sm-4 col-12 my-auto mx-auto a">
                            <h3 class="text-muted mb-md-0 mb-5 bold-text Logo" >Code The Web.</h3>
                        </div>
                        <div class="col-xl-2 col-md-4 col-sm-4 col-12">
                            <h6 class="mb-3 mb-lg-4 bold-text "><b style="font-weight :500;">MENU</b></h6>
                            <ul class="list-unstyled">
                                <li><a style="text-decoration: none; color:#25CCF7;" href="{% url 'home' %}">Home</a></li>
                                <li><a style="text-decoration: none; color:#25CCF7;" href="{% url 'posts' %}">Posts</a></li>
                                <li><a style="text-decoration: none; color:#25CCF7;" href="{% url 'about' %}">About</a></li>
                                <li><a style="text-decoration: none; color:#25CCF7;" href="{% url 'writeforus' %}">Write For Us</a></li>
                                <li><a style="text-decoration: none; color:#25CCF7;" href="#top">Go to Top <i class="fas fa-level-up-alt"></i></a></li>
                                
                            </ul>
                        </div>
                        <div class="col-xl-2 col-md-4 col-sm-4 col-12">
                            <h6 class="mb-3 mb-lg-4 text-muted bold-text mt-sm-0 mt-5"><b style="font-weight :500;">ADDRESS</b></h6>
                            <p class="mb-1">Sudarshan Django WebApps,</p>
                            <p>Pune</p>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-xl-8 col-md-4 col-sm-4 col-auto my-md-0 mt-5 order-sm-1 order-3 align-self-end">
                            <p class="social text-muted mb-0 pb-0 bold-text"> <span class="mx-2"><i class="fa fa-facebook" aria-hidden="true"></i></span> <span class="mx-2"><i class="fa fa-linkedin-square" aria-hidden="true"></i></span> <span class="mx-2"><i class="fa fa-twitter" aria-hidden="true"></i></span> <span class="mx-2"><i class="fa fa-instagram" aria-hidden="true"></i></span> </p>
                            <small class="rights" style="color: aliceblue;"><span>&#174;</span> Code The Web All Rights Reserved.</small>
                        </div>
                        <div class="col-xl-2 col-md-4 col-sm-4 col-auto order-1 align-self-end ">
                            <h6 class="mt-55 mt-2 text-muted bold-text"><b style="font-weight :500;">Sudarshan Achaler</b></h6><small> <span><i class="fa fa-envelope" aria-hidden="true"></i></span> Sudarshan@codeTheWeb.com</small>
                        </div>
                        <div class="col-xl-2 col-md-4 col-sm-4 col-auto order-2 align-self-end mt-3 ">
                            <h6 class="text-muted bold-text" ><b style="font-weight :500;">Code The Web</b></h6><small><span><i class="fa fa-envelope" aria-hidden="true"></i></span> CodeTheWeb@gmail.com</small>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    
      <!-- footer -->

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="{% static 'js/main.js' %}"></script>

    <script>
      
      if(user=="AnonymousUser"){
        document.getElementById('Logout').classList.add('d-none')
        document.getElementById('helloMessage').classList.add('d-none')
        
        
        
      }
      else{
        document.getElementById('Login').classList.add('d-none')
      }
      
      
      var typed4 = new Typed('#searchInput', {
        strings: ['Search', 'Code The Web', 'Web Development'],
        backDelay: 1000,
        typeSpeed: 50,
        backSpeed: 50,
        attr: 'placeholder',
        bindInputFocusEvents: false,
        loop: true
      });
       
    </script>

    {% block script %} {% endblock script %}
  </body>
</html>
